<div class="header-div">
  <h2 class="image-text">Enjoy <span style="color: #ed6666">Business Address</span> at a Professional
    <p>Workspace without bearing its Actual Cost</p></h2>

  <div class="form-container">
    <form *ngIf="!formSubmitted" [formGroup]="quoteForm" (ngSubmit)="onSubmit()" class="quote-form">

      <div class="form-group" style="position: relative;">
        <fa-icon [icon]="faUser"></fa-icon>
        <input type="text" [placeholder]="namePlaceholder" formControlName="name" />
        <div *ngIf="quoteForm.get('name')?.invalid && quoteForm.get('name')?.touched"
             class="absolute bottom-[-8px] right-0 text-xs text-red-600 bg-white p-1 rounded shadow-lg
              border border-red-600">
          <span class="error-text">Enter valid name.</span>
        </div>
      </div>



<!--      <div class="bg-white">-->
      <div class="form-group relative">
        <fa-icon [icon]="faPhone" class="text-gray-600"></fa-icon>
        <input type="tel" [placeholder]="phonePlaceholder" formControlName="phone" class="border p-1 rounded w-full focus:outline-none focus:ring-2 focus:ring-blue-500" [ngClass]="{'border-red-500': quoteForm.get('phone')?.invalid && quoteForm.get('phone')?.touched}" />
        <div *ngIf="quoteForm.get('phone')?.invalid && quoteForm.get('phone')?.touched"
             class="absolute bottom-[-8px] right-0 text-xs text-red-600 bg-white p-1 rounded shadow-lg
              border border-red-600">
          <span class="error-text">Please enter a valid 10-digit phone number.</span>
        </div>
      </div>


      <!-- Error message below the input -->
<!--        <div *ngIf="quoteForm.get('phone')?.invalid && quoteForm.get('phone')?.touched" class="text-red-500 text-sm mt-1">-->
<!--          <span class="error-text">Please enter a valid 10-digit phone number.</span>-->
<!--        </div>-->
<!--      </div>-->

      <div class="form-group relative ">
        <fa-icon [icon]="faEnvelope" class="text-gray-600"></fa-icon>

        <!-- Email Icon -->

        <!-- Email Input -->
        <input type="email" [placeholder]="emailPlaceholder" formControlName="email" class="border p-1 rounded w-full focus:outline-none focus:ring-2 focus:ring-blue-500"  [ngClass]="{'border-red-500': quoteForm.get('email')?.invalid && quoteForm.get('email')?.touched}"/>

        <!-- Error Icon and Message -->
        <!-- Error Message -->
        <div *ngIf="quoteForm.get('email')?.invalid && quoteForm.get('email')?.touched"
             class="absolute bottom-[-12px] right-0 text-xs text-red-600 bg-white p-2 rounded-lg shadow-lg
              border border-red-600 max-w-xs mt-1">
          <span class="error-text">Please enter a valid email address.</span>
        </div>
      </div>



      <div class="form-group" style="position: relative;">
        <fa-icon [icon]="faMapMarkerAlt"></fa-icon>
        <input type="text"
               [placeholder]="locationPlaceholder"
               formControlName="location"
               (input)="onLocationInput($event)"
               (focus)="onFocus()"
               (blur)="onBlur()"/>
<!--        <fa-icon *ngIf="quoteForm.get('location')?.invalid && quoteForm.get('location')?.touched"-->
<!--                  class="info-icon" [icon]="faInfoCircle" title="Please select your preferred state or city."></fa-icon>-->
        <div *ngIf="filteredLocations.length > 0 && locationInputValue" class="suggestions">
          <ul>
            <li *ngFor="let location of filteredLocations" (click)="onLocationSelect(location)">
              {{ location }}
            </li>
          </ul>
        </div>
      </div>


      <div class="form-group" style="position: relative;">
        <fa-icon [icon]="faList"></fa-icon>
        <select formControlName="service">
          <option value="">Select Service</option>
          <option>GST Registration</option>
          <option>Mailing Address</option>
          <option>Business Registration</option>
          <option>Desk Address</option>
          <option>Bank Account Registration</option>
          <option>Transferring Address</option>
          <option>Ecommerce Registration</option>
          <option>Please Help, Need Clarity</option>
        </select>
<!--        <fa-icon *ngIf="quoteForm.get('service')?.invalid && quoteForm.get('service')?.touched"-->
<!--                  class="info-icon" [icon]="faInfoCircle" title="Please select a service."></fa-icon>-->
      </div>


      <div class="button">
        <button
          type="submit"
          class="submit-btn"
          [disabled]="quoteForm.invalid || isSubmitting"
          (click)="!isSubmitting && onSubmit()"
          [attr.aria-label]="isSubmitting ? 'Submitting your request' : 'Request a quote'">

          <ng-container *ngIf="isSubmitting">
            <span>Submitting...</span>
          </ng-container>

          <ng-container *ngIf="!isSubmitting">
            <span>Request Quote</span>
          </ng-container>
        </button>
      </div>


    </form>

    <div *ngIf="formSubmitted" class="quote-form">

      <app-success></app-success>
    </div>
  </div>
</div>
